# ------------------------------
# Core PyTorch libraries
# ------------------------------
--extra-index-url https://download.pytorch.org/whl/cu128

torch==2.7.0
torchvision
torchaudio

# ------------------------------
# Platform-specific binary wheels
# ------------------------------

# Flash Attention
flash_attn @ https://huggingface.co/cyberdelia/forgestuff/resolve/main/flash_attn-2.7.4.post1-cp310-cp310-win_amd64.whl ; sys_platform == "win32"
flash_attn @ https://huggingface.co/cyberdelia/forgestuff/resolve/main/flash_attn-2.7.4.post1-cp310-cp310-linux_x86_64.whl ; sys_platform == "linux"

# xFormers builds
xformers @ https://huggingface.co/cyberdelia/forgestuff/resolve/main/xformers-0.0.30+3abeaa9e.d20250424-cp310-cp310-win_amd64.whl ; sys_platform == "win32"
xformers @ https://huggingface.co/cyberdelia/forgestuff/resolve/main/xformers-0.0.30+3abeaa9e.d20250427-cp310-cp310-linux_x86_64.whl ; sys_platform == "linux"

# Sage Attention
sageattention @ https://github.com/woct0rdho/SageAttention/releases/download/v2.1.1-windows/sageattention-2.1.1+cu128torch2.7.0-cp310-cp310-win_amd64.whl ; sys_platform == "win32"
sageattention @ https://huggingface.co/cyberdelia/forgestuff/resolve/main/sageattention-2.1.1-cp310-cp310-linux_x86_64.whl ; sys_platform == "linux"

# Triton on Windows only
triton-windows==3.3.0.post19 ; sys_platform == "win32"

# Optional DeepSpeed builds (commented out for now)
# deepspeed @ https://files.pythonhosted.org/packages/.../deepspeed-0.16.4-cp310-cp310-win_amd64.whl ; sys_platform == "win32"
# deepspeed ; sys_platform == "linux"

# ------------------------------
# Core utilities and frameworks
# ------------------------------
setuptools==69.5.1
GitPython==3.1.32
numpy==1.26.2
psutil==5.9.5
tqdm==4.66.1
joblib

# ------------------------------
# Image processing & related tools
# ------------------------------
Pillow==9.5.0
pillow-avif-plugin==1.4.3
scikit-image==0.21.0
facexlib==0.3.0
piexif==1.1.3
resize-right==0.0.2
clean-fid==0.1.35

# ------------------------------
# AI / ML libraries
# ------------------------------
diffusers==0.31.0
transformers==4.46.1
accelerate==0.31.0
einops==0.4.1
pytorch_lightning==1.9.4
torchdiffeq==0.2.3
torchsde==0.2.6
peft==0.13.2
huggingface-hub==0.26.2

# ------------------------------
# FastAPI & Gradio stack
# ------------------------------
fastapi==0.104.1
gradio==4.40.0
gradio_rangeslider==0.0.6
gradio_imageslider==0.0.20
httpx==0.24.1
httpcore==0.15

# ------------------------------
# Misc project-specific utilities
# ------------------------------
blendmodes==2022
diskcache==5.6.3
inflection==0.5.1
jsonmerge==1.8.0
kornia==0.6.7
lark==1.1.2
omegaconf==2.2.3
protobuf==3.20.0
safetensors==0.4.2
spandrel==0.3.4
spandrel-extra-arches==0.1.1
tomesd==0.1.3
loadimg==0.1.2
pydantic==2.10.6
ngrok